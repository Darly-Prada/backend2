<h1>Carritos de Compras</h1>

{{#if carts.length}}
  {{#each carts}}
    <h2>Carrito ID: {{this._id}}</h2>
    
    {{#if this.products.length}}
      <ul>
        {{#each this.products}}
          <li>
            Producto: {{this.productId.title}} <br>
            Cantidad: {{this.quantity}} <br>
            Precio: ${{this.price}} <br>
            <a href="/api/carts/{{../this._id}}/products/{{this.productId._id}}/remove">Eliminar</a>
          </li>
        {{/each}}
      </ul>
      <p><strong>Total: ${{this.total}}</strong></p>
      <a href="/api/carts/{{this._id}}/clear">Vaciar Carrito</a>
    {{else}}
      <p>Este carrito está vacío.</p>
    {{/if}}

    <hr>
  {{/each}}
{{else}}
  <p>No hay carritos disponibles.</p>
{{/if}}